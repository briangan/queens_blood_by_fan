<%
=begin
  This does partial rendering for the players and current turn section, and the game board section, and 
  then run Javascript to update UI.
  But there is no ActionCable broadcasting.
=end
-%>
<%= turbo_stream.update 'game_current_player_frame' do %>
  <% players_and_turn_content = render 'games/players_and_current_turn', game: @game %>
  <%= raw players_and_turn_content %>
  <script>
    switchTurnToPlayer(<%= @game.current_turn_user_id %>, <%= @game.current_turn_player_number %>);
  </script>
<% end %>
<%= turbo_frame_tag 'game_actions_panel_frame' do %>
  <hr/>
  <%= raw render partial:'game_actions_panel', locals:{ game: @game } %>
<% end %>
<%= turbo_stream.update 'game_board_frame' do %>
  <% board_content = render partial:'board', locals:{ game: @game } %>
  <%= raw board_content %>
  <script>
    setupBoardInteractions();
    showBoardNotice("<%= j flash[:warning] %>", 'warning');
  </script>
<% end %>